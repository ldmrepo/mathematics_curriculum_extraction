버전: GPT-5 · 2025-08-29 (Asia/Seoul)

팀장님, 요청하신 **확장 버전 Mermaid 다이어그램**입니다.
아래에는 (1) 전체 스키마 확장(역량/상태/신뢰도/Evidence 레이어 포함), (2) 도형-겉넓이/부피 인스턴스(신뢰도·승인상태 배지), (3) 유리수 대소관계 인스턴스까지 준비했습니다.
그대로 복사해 **Mermaid Live Editor**에서 보시면 됩니다.

---

## 1) 전체 스키마(확장형: 역량·상태·신뢰도·Evidence 포함)

```mermaid
graph TD
  %% ===== L0: 범례 / 상태 =====
  subgraph Legend[Legend]
    L_OK[approved✅]:::ok
    L_PR[proposed🟡]:::prop
    L_RJ[rejected⛔]:::rej
    L_CI[edge label: type · confidence · status]
  end

  %% ===== L1: 편제/과목 =====
  subgraph L1[편제/과목]
    SUB[Subject: 수학]
    PROG[Program: 공통/선택]
    COURSE[Course: 공통수학1/기본수학1/대수...]
  end

  %% ===== L2: 영역/내용요소 =====
  subgraph L2[영역·내용요소]
    DOM1[Domain: 수와 연산 01]
    DOM2[Domain: 변화와 관계 02]
    DOM3[Domain: 도형과 측정 03]
    DOM4[Domain: 자료와 가능성 04]
    CE[ContentElement: 내용요소 다항식·겉넓이/부피·확률·...]
    LEX[LexiconTerm: 동의어/표현]
  end

  %% ===== L3: 성취기준/성취수준 =====
  subgraph L3[성취기준·성취수준]
    STD[AchievementStandard: 성취기준 예: 9수XX-YY]
    LA[Level A]
    LB[Level B]
    LC[Level C]
    LD[Level D]
    LE[Level E]
  end

  %% ===== L4: 평가/지침 =====
  subgraph L4[평가·지침]
    ASMT[AssessmentItem: 예시 평가도구/루브릭]
    GL[Guideline: 지도·평가 유의]
  end

  %% ===== L5: 역량 (총론/교과역량 맵) =====
  subgraph L5[역량 Competencies]
    COMP1[문제해결]
    COMP2[추론]
    COMP3[의사소통]
    COMP4[연결]
    COMP5[정보처리]
  end

  %% ---- 구조적(추출) 관계 ----
  PROG -->|BELONGS_TO| SUB
  COURSE -->|UNDER_PROGRAM| PROG
  COURSE -->|HAS_DOMAIN| DOM1
  COURSE -->|HAS_DOMAIN| DOM2
  COURSE -->|HAS_DOMAIN| DOM3
  COURSE -->|HAS_DOMAIN| DOM4
  CE -->|IN_DOMAIN| DOM1
  CE -->|IN_DOMAIN| DOM2
  CE -->|IN_DOMAIN| DOM3
  CE -->|IN_DOMAIN| DOM4
  STD -->|IN_DOMAIN| DOM1
  STD -->|IN_DOMAIN| DOM2
  STD -->|IN_DOMAIN| DOM3
  STD -->|IN_DOMAIN| DOM4
  STD -->|SPECIFIED_BY| LA
  STD -->|SPECIFIED_BY| LB
  STD -->|SPECIFIED_BY| LC
  STD -->|SPECIFIED_BY| LD
  STD -->|SPECIFIED_BY| LE
  ASMC[ASMT LINK]:::ghost
  ASMC -.-> ASMT
  ASMT -->|FOR_STANDARD| STD

  %% ---- 추론/고급 관계(룰·모델 기반) : 라벨에 (type · confidence · status) 표기 ----
  CE -. "ALIGNS_WITH · 0.81 · approved✅" .-> STD
  STD -. "PREREQ · 0.72 · approved✅" .-> STD
  LE -->|"PROGRESSES_TO · 0.90 · approved✅"| LD -->|"PROGRESSES_TO · 0.90 · approved✅"| LC -->|"PROGRESSES_TO · 0.90 · approved✅"| LB -->|"PROGRESSES_TO · 0.90 · approved✅"| LA
  DOM3 -. "GUIDED_BY · 1.00 · approved✅" .-> GL
  CE -. "HAS_LEXICON · 1.00 · approved✅" .-> LEX
  STD -. "SIMILAR_TO · 0.74 · proposed🟡" .- STD
  STD -. "EQUIVALENT_TO · 0.82 · proposed🟡" .- STD

  %% ---- 역량 매핑(문서 진술+룰 기반) ----
  STD -. "SUPPORTS · 0.65 · proposed🟡" .-> COMP2
  STD -. "SUPPORTS · 0.70 · proposed🟡" .-> COMP1
  CE  -. "SUPPORTS · 0.60 · proposed🟡" .-> COMP5

  classDef ok fill:#e6ffed,stroke:#2bb673,color:#1f6f43,stroke-width:1px;
  classDef prop fill:#fff8e6,stroke:#f0b429,color:#6a4d00,stroke-width:1px;
  classDef rej fill:#ffe6e6,stroke:#ff5c5c,color:#7a0000,stroke-width:1px;
  classDef ghost fill:#ffffff,stroke:#cccccc,color:#999999,stroke-dasharray: 3 3;
```

---

## 2) 인스턴스: 도형—겉넓이/부피(신뢰도·상태 배지 포함)

```mermaid
graph TD
  SUB[수학]
  PROG[선택 중심]
  COURSE[공통수학1]
  DOM3[도형과 측정 03]
  CE1[내용요소: 겉넓이/부피]
  STD1[성취기준: 9수03-08 <br/> 기둥·뿔·구의 겉넓이와 부피를 구할 수 있다]
  LA[A수준: 과정 설명/일반화]
  LC[C수준: 과정을 이해하고 구함]
  LE[E수준: 일부 계산]
  AS1[예시평가: 원뿔 부피 구하기]
  GL1[지침: 복잡 계산 시 계산기 허용·과정 설명 요구]
  LEX1[용어사전: 겉넓이=표면적/surface area]
  COMP1[문제해결]
  COMP2[추론]

  PROG -->|BELONGS_TO| SUB
  COURSE -->|UNDER_PROGRAM| PROG
  COURSE -->|HAS_DOMAIN| DOM3
  CE1 -->|IN_DOMAIN| DOM3
  STD1 -->|IN_DOMAIN| DOM3
  STD1 -->|SPECIFIED_BY| LA
  STD1 -->|SPECIFIED_BY| LC
  STD1 -->|SPECIFIED_BY| LE
  AS1 -->|FOR_STANDARD| STD1

  %% 추론/고급 관계 (라벨 = type · confidence · status)
  CE1 -. "ALIGNS_WITH · 0.82 · approved✅" .-> STD1
  LE -->|"PROGRESSES_TO · 0.90 · approved✅"| LC -->|"PROGRESSES_TO · 0.90 · approved✅"| LA
  DOM3 -. "GUIDED_BY · 1.00 · approved✅" .-> GL1
  CE1 -. "HAS_LEXICON · 1.00 · approved✅" .-> LEX1

  %% 역량 연결
  STD1 -. "SUPPORTS · 0.72 · proposed🟡" .-> COMP1
  STD1 -. "SUPPORTS · 0.68 · proposed🟡" .-> COMP2
```

---

## 3) 인스턴스: 유리수 대소관계(후보 2개 & 승인상태 혼재)

```mermaid
graph TD
  DOM1[수와 연산 01]
  CE2[내용요소: 유리수 대소관계/절댓값]
  STD5[성취기준: 9수01-03<br/>유리수의 대소관계를 이해하고 표현]
  STD6[성취기준: 9수01-04<br/>절댓값의 의미와 활용]
  LC[C수준: 기본 계산/비교]
  LD[D수준: 단순 판단]
  LEX2["용어사전: 절댓값 ↔ |x|"]
  AS2[예시평가: 옳은 부등호 고르기]
  COMP5[정보처리]

  CE2 -->|IN_DOMAIN| DOM1
  STD5 -->|IN_DOMAIN| DOM1
  STD6 -->|IN_DOMAIN| DOM1
  STD5 -->|SPECIFIED_BY| LC
  STD5 -->|SPECIFIED_BY| LD
  AS2 -->|FOR_STANDARD| STD5

  %% 후보 정합(Top-1 approved, runner-up proposed)
  CE2 -. "ALIGNS_WITH · 0.82 · approved✅" .-> STD5
  CE2 -. "ALIGNS_WITH · 0.70 · proposed🟡" .-> STD6
  CE2 -. "HAS_LEXICON · 1.00 · approved✅" .-> LEX2

  %% 역량(정보처리) 연결
  STD5 -. "SUPPORTS · 0.60 · proposed🟡" .-> COMP5
```

---

### 사용 팁

* Mermaid Live Editor에서 **다크 모드**나 **fontSize** 옵션을 조정하면 가독성이 좋아집니다.
* 라벨에 표기한 `type · confidence · status`는 실제 운영 값으로 자동 치환되도록 템플릿화할 수 있습니다(예: `{{edge.type}} · {{edge.confidence}} · {{edge.status}}`).
* 필요하시면 **상태별 색상**을 더 강조(굵기/테두리)하는 버전이나, **증거(evidence) 인용 스니펫**을 툴팁(popover)로 노출하는 HTML 확장 버전도 만들어드리겠습니다, 팀장님.
